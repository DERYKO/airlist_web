<h1>Contact details {{ vm.model.title }} {{ vm.model.first_name }} {{ vm.model.last_name }}</h1>

<form ng-submit="vm.save(vm.model,contactForm)" name="contactForm" class="light edit-screen"
      ng-class="{'submitted':contactForm.$submitted}" novalidate>
    <section>
        <div class="content-box">
            <div class="box-section-wrap">
                <div class="user-avatar">
                    <customfield name="profile_image" definition="{type:'media_image', startDirectory: 'contacts'}" ng-model="vm.model.profile_image"></customfield>
                </div>
                <div class="user-general-info">
                    <fieldset>
                        <div class="form-group">
                            <label>Sex</label>
                            <select name="sex" ng-model="vm.model.sex" ng-options="k as v for (k, v) in vm.deposits.genders"></select>
                        </div>
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" ng-model="vm.model.title" name="title"
                                   placeholder="e.g. Prof. Dr.">
                        </div>
                    </fieldset>
                    <fieldset>
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" ng-model="vm.model.first_name" name="first_name">
                        </div>
                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" ng-model="vm.model.last_name" name="last_name">
                        </div>
                    </fieldset>
                    <fieldset>
                        <div class="form-group">
                            <label>Salutation</label>
                            <select name="salutation_type"
                                    ng-model="vm.model.salutation_type">
                                <option value="formal">Formal</option>
                                <option value="colloquial">Colloquial</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Override Salutation</label>
                            <input type="text" ng-model="vm.model.salutation" name="salutation">
                        </div>
                    </fieldset>
                    <fieldset>
                        <div class="form-group">
                            <label>Birthday</label>
                            <customfield ng-model="vm.model.birth_day" definition="{type:'date'}"
                                         name="birth_day"></customfield>
                        </div>
                        <div class="form-group">
                            <label for="language">Language</label>
                            <select name="language" id="language" ng-model="vm.model.language" ng-options="k as v for (k, v) in vm.deposits.languages"></select>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h2>Address details</h2>
        <div class="content-box">
            <div class="box-section-wrap">
                <!--radio button to check preferred address: private/business-->
                <div class="address-star">
                    <input ng-model="vm.model.business_preferred" id="1" type="radio" name="star" ng-value="false"/>
                    <label for="1">Private</label>
                </div>
                <!--radio button to check preferred address: private/business END-->

                <fieldset>
                    <div class="form-group">
                        <label>Street</label>
                        <input type="text" ng-model="vm.model.street" name="street">
                    </div>
                    <div class="form-group">
                        <label>Street 2</label>
                        <input type="text" ng-model="vm.model.street_2" name="street_2">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>ZIP</label>
                        <input type="text" ng-model="vm.model.zip" name="zip">
                    </div>
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" ng-model="vm.model.city" name="city">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <select name="country" id="country" ng-model="vm.model.country" ng-options="k as v for (k, v) in vm.deposits.countries">
                        </select>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Mobile</label>
                        <input type="text" ng-model="vm.model.phone_2" name="phone_2">
                    </div>
                    <div class="form-group">
                        <label>Phone (Landline)</label>
                        <input type="text" ng-model="vm.model.phone" name="phone">
                    </div>
                    <div class="form-group">
                        <label>Fax</label>
                        <input type="text" ng-model="vm.model.fax" name="fax">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="text" ng-model="vm.model.email" name="email">
                    </div>
                    <div class="form-group">
                        <label>Web</label>
                        <input type="text" ng-model="vm.model.web" name="web">
                    </div>
                </fieldset>
            </div>
            <div class="box-section-wrap">

                <!--radio button to check preferred address: private/business-->

                <div class="address-star">
                    <input ng-model="vm.model.business_preferred" id="2" type="radio" name="star" ng-value="true"/>
                    <label for="2">Business</label>
                </div>
                <!--radio button to check preferred address: private/business END-->

                <fieldset>
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" ng-model="vm.model.company_name"
                               name="company_ne">
                    </div>
                    <div class="form-group">
                        <label>Department</label>
                        <input type="text" ng-model="vm.model.department"
                               name="department">
                    </div>
                    <div class="form-group">
                        <label>Position</label>
                        <input type="text" ng-model="vm.model.position" name="position">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Business Street</label>
                        <input type="text" ng-model="vm.model.business_street"
                               name="business_street">
                    </div>
                    <div class="form-group">
                        <label>Business Street 2</label>
                        <input type="text" ng-model="vm.model.business_street_2"
                               name="business_street_2">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Business ZIP</label>
                        <input type="text" ng-model="vm.model.business_zip"
                               name="business_zip">
                    </div>
                    <div class="form-group">
                        <label>Business City</label>
                        <input type="text" ng-model="vm.model.business_city"
                               name="business_city">
                    </div>
                    <div class="form-group">
                        <label>Business Country</label>
                        <select name="business_country" id="business_country"
                                ng-model="vm.model.business_country" ng-options="k as v for (k, v) in vm.deposits.countries">
                        </select>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Business Mobile</label>
                        <input type="text" ng-model="vm.model.business_phone_2"
                               name="business_phone_2">
                    </div>
                    <div class="form-group">
                        <label>Business Phone (Landline)</label>
                        <input type="text" ng-model="vm.model.business_phone"
                               name="business_phone">
                    </div>
                    <div class="form-group">
                        <label>Business Fax</label>
                        <input type="text" ng-model="vm.model.business_fax"
                               name="business_fax">
                    </div>
                    <div class="form-group">
                        <label>Business Email</label>
                        <input type="text" ng-model="vm.model.business_email"
                               name="business_business_email">
                    </div>
                    <div class="form-group">
                        <label>Business Web</label>
                        <input type="text" ng-model="vm.model.business_web"
                               name="business_web">
                    </div>
                </fieldset>
            </div>
        </div>
    </section>

    <section>
        <h2>Extended information</h2>
        <div class="content-box">
            <div class="box-section-wrap">
                <fieldset>
                    <div class="form-group">
                        <label>Nfc Key</label>
                        <input type="text" ng-model="vm.model.nfc_key" name="nfc_key">
                    </div>
                    <div class="form-group">
                        <label>Always CC this email</label>
                        <customfield ng-model="vm.model.email_cc"
                                     definition="{type:'textbox'}"
                                     name="notify_email_cc"></customfield>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Blacklist</label>
                        <customfield ng-model="vm.model.blacklist"
                                     definition="{type:'boolean'}"
                                     name="blacklist"></customfield>
                    </div>
                    <div class="form-group">
                        <label>Blacklist Reason</label>
                        <textarea name="blacklist_reason"
                                  ng-model="vm.model.blacklist_reason"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Block Emails</label>
                        <customfield ng-model="vm.model.block_email"
                                     definition="{type:'boolean'}"
                                     name="block_email"></customfield>
                    </div>
                    <div class="form-group">
                        <label>Block sms</label>
                        <customfield ng-model="vm.model.block_sms"
                                     definition="{type:'boolean'}"
                                     name="block_sms"></customfield>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Comment</label>
                        <textarea name="comment" ng-model="vm.model.comment"></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="box-section-wrap">
                <h3>Payment</h3>
                <fieldset>
                    <div class="form-group">
                        <label>IBAN</label>
                        <input name="iban" ng-model="vm.model.iban">
                    </div>
                    <div class="form-group">
                        <label>BIC</label>
                        <input name="bic" ng-model="vm.model.bic">
                    </div>
                </fieldset>
            </div>
            <div class="box-section-wrap">
                <h3>Custom attributes</h3>
                <fieldset>
                    <div class="form-group"
                         ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]"
                         ng-if="vm.schema.properties['custom_'+i]" ng-class="{'input-x-lg': (vm.schema.properties['custom_'+i].type === 'html')}">
                        <customfield ng-model="vm.model['custom_'+i]"
                                     definition="vm.schema.properties['custom_'+i].original"
                                     name="{{'custom_'+i}}"></customfield>
                    </div>
                </fieldset>
            </div>
        </div>
    </section>

    <section>
        <h2>Social profiles</h2>
        <div class="content-box">
            <div class="box-section-wrap">
                <fieldset>
                    <div class="form-group">
                        <label>Facebook</label>
                        <input type="text" ng-model="vm.model.facebook_url"
                               name="facebook_url">
                    </div>
                    <div class="form-group">
                        <label>XING</label>
                        <input type="text" ng-model="vm.model.xing_url" name="xing_url">
                    </div>
                    <div class="form-group">
                        <label>Instagram</label>
                        <input type="text" ng-model="vm.model.instagram_url"
                               name="instagram_url">
                    </div>
                    <div class="form-group">
                        <label>LinkedIn</label>
                        <input type="text" ng-model="vm.model.linkedin_url"
                               name="linkedin_url">
                    </div>
                </fieldset>
            </div>
        </div>
    </section>

    <section>
        <h2>Notifications</h2>
        <div class="content-box">
            <div class="box-section-wrap">
                <fieldset>
                    <div class="form-group">
                        <customfield ng-model="vm.model.notify_on_checkin"
                                     definition="{type:'boolean', 'name': 'On checkin'}"
                                     name="notify_on_checkin"></customfield>
                    </div>
                    <div class="form-group">
                        <customfield ng-model="vm.model.notify_on_register"
                                     definition="{type:'boolean', 'name': 'On registration'}"
                                     name="notify_on_register"></customfield>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group"
                         ng-if="vm.model.notify_on_checkin || vm.model.notify_on_register">
                        <label>Notify Email</label>
                        <customfield ng-model="vm.model.notify_email"
                                     definition="{type:'textbox'}"
                                     name="notify_email"></customfield>
                    </div>
                    <div class="form-group"
                         ng-if="vm.model.notify_on_checkin || vm.model.notify_on_register">
                        <label>Notify SMS number</label>
                        <customfield ng-model="vm.model.notify_sms"
                                     definition="{type:'textbox'}"
                                     name="notify_sms"></customfield>
                    </div>
                </fieldset>
            </div>
        </div>
    </section>

    <section>
        <div class="fixed-footer">
            <div class="btn-group">
                <button type="button" class="btn-warning" ng-click="vm.cancel()">Cancel</button>
                <button type="submit" class="btn-confirm">Done</button>
            </div>
        </div>
    </section>
</form>
