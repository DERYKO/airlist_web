<h1>Update {{vm.store.getters.selectedCount}} Bookings</h1>

<selected-items store="vm.store" tag-field="contact.full_name"></selected-items>
<form ng-submit="vm.save(rsvpEditor)" name="rsvpEditor" ng-class="{'submitted':rsvpEditor.$submitted}" class="edit-screen" novalidate>
    <section>
        <div class="content-box">
            <div class="box-section-wrap">
                <fieldset>
                    <div class="form-group">
                        <label>Sex</label>
                        <select name="sex" ng-model="vm.contact.sex" ng-options="k as v for (k, v) in vm.deposits.genders"></select>
                    </div>
                    <div class="form-group">
                        <label for="language">Language</label>
                        <select name="language" id="language" ng-model="vm.contact.language" ng-options="k as v for (k, v) in vm.deposits.languages"></select>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Salutation</label>
                        <select name="salutation_type"
                                ng-model="vm.contact.salutation_type">
                            <option value="formal">Formal</option>
                            <option value="colloquial">Colloquial</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Override Salutation</label>
                        <input type="text" ng-model="vm.contact.salutation" name="salutation">
                    </div>
                </fieldset>
            </div>
        </div>
    </section>
    <h2>Booking info</h2>
    <section>
        <div class="content-box">
            <div class="box-section-wrap">
                <fieldset>
                    <div class="form-group" ng-if="vm.parentSelector">
                        <label>Guest Of</label>
                        <select-box model="vm.rsvp.parent_rsvp_id" config="vm.parentSelector"></select-box>
                    </div>
                    <div class="form-group">
                        <label>Status</label>
                        <select name="status" ng-model="vm.rsvp.status">
                            <option value="requested">Requested</option>
                            <option value="listed">Listed</option>
                            <option value="invited">Invited</option>
                            <option value="confirmed">Confirmed</option>
                            <option value="cancelled">Cancelled</option>
                            <option value="waitlisted">Waitlisted</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Pax Planned</label>
                        <input ng-model="vm.rsvp.pax_planned" type="text"
                               name="pax_planned">
                    </div>
                    <div class="form-group">
                        <label>Pax Actual</label>
                        <input ng-model="vm.rsvp.pax_actual" type="text"
                               name="pax_actual">
                    </div>
                    <div class="form-group">
                        <label>Pax Max</label>
                        <input ng-model="vm.rsvp.pax_max" type="text"
                               name="pax_max">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Payment</label>
                        <select name="pending" ng-model="vm.rsvp.payment">
                            <option value="pending">Pending</option>
                            <option value="invited">Invited</option>
                            <option value="confirmed">Confirmed</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Color</label>
                        <select name="color" ng-model="vm.rsvp.color">
                            <option value="red">Red</option>
                            <option value="orange">Orange</option>
                            <option value="green">Green</option>
                            <option value="pink">Pink</option>
                            <option value="blue">Blue</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Priority</label>
                        <select name="priority" ng-model="vm.rsvp.priority">
                            <option value="a">a</option>
                            <option value="b">b</option>
                            <option value="c">c</option>
                            <option value="d">d</option>
                            <option value="e">e</option>
                        </select>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Comment</label>
                            <textarea ng-model="vm.rsvp.comment" name="comment"
                                      rows="5"></textarea>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group" ng-repeat="field in vm.customFields track by $index">
                        <label for="{{field.key}}">{{field.title}}</label>
                        <customfield ng-model="vm.rsvp[field.key]" definition="field" name="field.key"
                                     id="{{field.key}}"></customfield>
                    </div>
                </fieldset>
            </div>
        </div>
    </section>

    <h2>Address details</h2>
    <section>
        <div class="content-box">
            <div class="box-section-wrap">
                <h3>Private</h3>
                <fieldset>
                    <div class="form-group">
                        <label>Street</label>
                        <input type="text" ng-model="vm.contact.street" name="street">
                    </div>
                    <div class="form-group">
                        <label>Street 2</label>
                        <input type="text" ng-model="vm.contact.street_2" name="street_2">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>ZIP</label>
                        <input type="text" ng-model="vm.contact.zip" name="zip">
                    </div>
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" ng-model="vm.contact.city" name="city">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <input type="text" ng-model="vm.contact.country" name="country">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Mobile</label>
                        <input type="text" ng-model="vm.contact.phone_2" name="phone_2">
                    </div>
                    <div class="form-group">
                        <label>Phone (Landline)</label>
                        <input type="text" ng-model="vm.contact.phone" name="phone">
                    </div>
                    <div class="form-group">
                        <label>Fax</label>
                        <input type="text" ng-model="vm.contact.fax" name="fax">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="text" ng-model="vm.contact.email" name="email">
                    </div>
                    <div class="form-group">
                        <label>Web</label>
                        <input type="text" ng-model="vm.contact.web" name="web">
                    </div>
                </fieldset>
            </div>
            <div class="box-section-wrap">
                <h3>Business</h3>
                <fieldset>
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" ng-model="vm.contact.company_name"
                               name="company_ne">
                    </div>
                    <div class="form-group">
                        <label>Department</label>
                        <input type="text" ng-model="vm.contact.department"
                               name="department">
                    </div>
                    <div class="form-group">
                        <label>Position</label>
                        <input type="text" ng-model="vm.contact.position" name="position">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Business Street</label>
                        <input type="text" ng-model="vm.contact.business_street"
                               name="business_street">
                    </div>
                    <div class="form-group">
                        <label>Business Street 2</label>
                        <input type="text" ng-model="vm.contact.business_street_2"
                               name="business_street_2">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Business ZIP</label>
                        <input type="text" ng-model="vm.contact.business_zip"
                               name="business_zip">
                    </div>
                    <div class="form-group">
                        <label>Business City</label>
                        <input type="text" ng-model="vm.contact.business_city"
                               name="business_city">
                    </div>
                    <div class="form-group">
                        <label>Business Country</label>
                        <input type="text" ng-model="vm.contact.business_country"
                               name="business_country">
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Business Mobile</label>
                        <input type="text" ng-model="vm.contact.business_phone_2"
                               name="business_phone_2">
                    </div>
                    <div class="form-group">
                        <label>Business Phone (Landline)</label>
                        <input type="text" ng-model="vm.contact.business_phone"
                               name="business_phone">
                    </div>
                    <div class="form-group">
                        <label>Business Fax</label>
                        <input type="text" ng-model="vm.contact.business_fax"
                               name="business_fax">
                    </div>
                    <div class="form-group">
                        <label>Business Web</label>
                        <input type="text" ng-model="vm.contact.business_web"
                               name="business_web">
                    </div>
                    <div class="form-group">
                        <label>Business Email</label>
                        <input type="text" ng-model="vm.contact.business_email"
                               name="business_business_email">
                    </div>
                </fieldset>
            </div>
        </div>
    </section>

    <h2>Social profiles</h2>
    <section>
        <div class="content-box">
            <div class="box-section-wrap">
                <div class="form-group">
                    <label>Facebook</label>
                    <input type="text" ng-model="vm.contact.facebook_url"
                           name="facebook_url">
                </div>
                <div class="form-group">
                    <label>XING</label>
                    <input type="text" ng-model="vm.contact.xing_url" name="xing_url">
                </div>
                <div class="form-group">
                    <label>Instagram</label>
                    <input type="text" ng-model="vm.contact.instagram_url"
                           name="instagram_url">
                </div>
                <div class="form-group">
                    <label>LinkedIn</label>
                    <input type="text" ng-model="vm.contact.linkedin_url"
                           name="linkedin_url">
                </div>
            </div>
        </div>
    </section>

    <h2>Notifications</h2>
    <section>
        <div class="content-box">
            <div class="box-section-wrap">
                <fieldset>
                    <div class="form-group">
                        <label>On checkin</label>
                        <customfield ng-model="vm.contact.notify_on_checkin"
                                     definition="{type:'boolean'}"
                                     name="notify_on_checkin"></customfield>
                    </div>
                    <div class="form-group">
                        <label>On registration</label>
                        <customfield ng-model="vm.contact.notify_on_register"
                                     definition="{type:'boolean'}"
                                     name="notify_on_register"></customfield>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group"
                         ng-if="vm.contact.notify_on_checkin || vm.contact.notify_on_register">
                        <label>Notify Email</label>
                        <customfield ng-model="vm.contact.notify_email"
                                     definition="{type:'textbox'}"
                                     name="notify_email"></customfield>
                    </div>
                    <div class="form-group"
                         ng-if="vm.contact.notify_on_checkin || vm.contact.notify_on_register">
                        <label>Notify SMS number</label>
                        <customfield ng-model="vm.contact.notify_sms"
                                     definition="{type:'textbox'}"
                                     name="notify_sms"></customfield>
                    </div>
                </fieldset>
            </div>
        </div>
    </section>

    <h2>Extended info</h2>
    <section>
        <div class="content-box">
            <div class="box-section-wrap">
                <fieldset>
                    <div class="form-group">
                        <label>Nfc Key</label>
                        <input type="text" ng-model="vm.contact.nfc_key" name="nfc_key">
                    </div>
                    <div class="form-group">
                        <label>Always CC this email</label>
                        <customfield ng-model="vm.contact.email_cc"
                                     definition="{type:'textbox'}"
                                     name="notify_email_cc"></customfield>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Blacklist</label>
                        <select name="blacklist"
                                ng-model="vm.contact.blacklist">
                            <option value="0">No</option>
                            <option value="1">Yes</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Blacklist Reason</label>
                        <textarea name="blacklist_reason"
                                  ng-model="vm.contact.blacklist_reason"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Block Emails</label>
                        <customfield ng-model="vm.contact.block_email"
                                     definition="{type:'boolean'}"
                                     name="block_email"></customfield>
                    </div>
                    <div class="form-group">
                        <label>Block sms</label>
                        <customfield ng-model="vm.contact.block_sms"
                                     definition="{type:'boolean'}"
                                     name="block_sms"></customfield>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label>Comment</label>
                        <textarea name="comment" ng-model="vm.contact.comment"></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="box-section-wrap">
                <h3>Payment</h3>
                <fieldset>
                    <div class="form-group">
                        <label>IBAN</label>
                        <input name="iban" ng-model="vm.contact.iban">
                    </div>
                    <div class="form-group">
                        <label>BIC</label>
                        <input name="bic" ng-model="vm.contact.bic">
                    </div>
                </fieldset>
            </div>
            <div class="box-section-wrap">
                <h3>Custom attributes</h3>
                <fieldset>
                    <div class="form-group"
                         ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]"
                         ng-if="vm.schema.properties['custom_'+i]">
                        <customfield ng-model="vm.contact['custom_'+i]"
                                     definition="vm.schema.properties['custom_'+i].original"
                                     name="{{'custom_'+i}}"></customfield>
                    </div>
                </fieldset>
            </div>
        </div>
    </section>

    <section>
        <div class="fixed-footer">
            <div class="btn-group">
                <button type="button" ng-click="vm.close()">Cancel</button>
                <button type="submit" class="btn-confirm">Save</button>
            </div>
        </div>
    </section>
</form>
