<div ng-if="vm.error" class="alert alert-info">
    {{vm.errorMessage}}
</div>
<div ng-if="!vm.error">
    <button class="btn btn-primary" ng-click="vm.newDocument()">
        New Document
    </button>
    <table class="table table-muted">
        <thead>
        <tr>
            <th style="width: 70%;">Title</th>
            <th style="width: 20%;">Created at</th>
            <th style="width: 20px"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-if="!vm.loading && !vm.documents.length">
            <td colspan="3">No documents Available</td>
        </tr>
        <tr ng-if="!vm.loading" ng-repeat="document in vm.documents | limitTo:vm.limitToShow">
            <td><a class="muted" ng-click="vm.downloadDocument(document)">{{document.title}}</a></td>
            <td>{{document.created_at|date:"dd. MM. yyyy - HH:mm"}}</td>
            <td><a class="btn btn-danger btn-xs btn-simple" ng-click="vm.deleteDocument(document)"><span
                    class="fal fa-minus-circle"></span></a></td>
        </tr>
        <tr class="bg-info" ng-if="vm.loading">
            <td class="text-center" colspan="3">
                Documents are loading
            </td>
        </tr>
        </tbody>
    </table>
    <p class="text-center">
        <a class="muted" ng-click="vm.limitToShow = vm.limitToShow + 10"
           ng-if="vm.limitToShow < vm.documents.length">More</a>
    </p>
</div>